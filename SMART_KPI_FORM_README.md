# Smart KPI Form - ููุฑู KPI ุงูุฐูู ุงููุญุณู

## ูุธุฑุฉ ุนุงูุฉ | Overview

ุชู ุชุทููุฑ ููุฑู KPI ุฐูู ููุญุณู ุฎุตูุตุงู ูููููุฏุณูู ุงููุฏูููู ูุชุณุฌูู ุฃูุดุทุฉ ุงููููุน ุจุทุฑููุฉ ุฃูุซุฑ ุฐูุงุกู ูุณูููุฉ. ูุฐุง ุงูููุฑู ูุญุณู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู ููููู ูู ุงูุฃุฎุทุงุก ููุฒูุฏ ูู ุงูููุงุกุฉ.

## ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ | New Features

### ๐ฏ 1. ุชุฏูู ุงูุนูู ุงูููุฌู | Guided Workflow
- **ุงูุฎุทูุฉ ุงูุฃููู**: ุงุฎุชูุงุฑ ุงููุดุฑูุน
- **ุงูุฎุทูุฉ ุงูุซุงููุฉ**: ุนุฑุถ ุฌููุน ุฃูุดุทุฉ ุงููุดุฑูุน ูุน ุญุงูุฉ ุงูุฅูุฌุงุฒ
- **ุงูุฎุทูุฉ ุงูุซุงูุซุฉ**: ุชุณุฌูู ูู ูุดุงุท ุนูู ุญุฏุฉ ูุน ุณุคุงู "ูู ุชู ุงูุนูู ูู ูุฐุง ุงููุดุงุท ุงููููุ"

### โก 2. ุงูุชุนุจุฆุฉ ุงูุชููุงุฆูุฉ ุงูุฐููุฉ | Smart Auto-Fill
- **ุงููุญุฏุฉ (Unit)**: ูุชู ููุคูุง ุชููุงุฆูุงู ูู ุจูุงูุงุช ุงููุดุงุท
- **ุงููุณู (Section)**: ูุชู ููุคู ุชููุงุฆูุงู ูู ูุณู ุงููุดุงุท
- **ุงููููุฉ ุงูููููุฉ**: ูุชู ุญุณุงุจูุง ุชููุงุฆูุงู ูู ูุนุฏู ุงูุฅูุชุงุฌูุฉ ุงููููู
- **ุงูุชุงุฑูุฎ**: ูุชู ุชุนูููู ุชููุงุฆูุงู ูุชุงุฑูุฎ ุงูููู

### ๐ 3. ุชุชุจุน ุงูุชูุฏู ุงููุฑุฆู | Visual Progress Tracking
- **ุดุฑูุท ุงูุชูุฏู**: ููุถุญ ูุณุจุฉ ุฅูุฌุงุฒ ุงูุฃูุดุทุฉ
- **ุญุงูุฉ ุงูุฃูุดุทุฉ**: 
  - ๐ข ููุชูู (Completed)
  - ๐ต ุฌุงุฑู (Current) 
  - โช ูู ุงูุงูุชุธุงุฑ (Pending)
- **ุนูุงูุฉ ุตุญ**: ุชุธูุฑ ุจุฌูุงุฑ ุงูุฃูุดุทุฉ ุงูููุชููุฉ

### โ 4. ุชุฃููุฏ ุงูุนูู ุงูุจุณูุท | Simple Work Confirmation
- **ุณุคุงู ุจุณูุท**: "ูู ุชู ุงูุนูู ูู ูุฐุง ุงููุดุงุท ุงููููุ"
- **ุฎูุงุฑูู ููุท**: ูุนู ุฃู ูุง
- **ุชุฎุทู ุชููุงุฆู**: ุฅุฐุง ูู ูุชู ุงูุนููุ ูุชู ุชุฎุทู ุงููุดุงุท ุชููุงุฆูุงู

### ๐ 5. ุชุญุณููุงุช ุงูุฃุฏุงุก | Performance Improvements
- **ุชุญููู ุฐูู**: ูุชู ุชุญููู ุงูุจูุงูุงุช ููุท ุนูุฏ ุงูุญุงุฌุฉ
- **ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช**: ุชุญุณูู ุณุฑุนุฉ ุงูุงุณุชุฌุงุจุฉ
- **ูุงุฌูุฉ ุณุฑูุนุฉ ุงูุงุณุชุฌุงุจุฉ**: ุชุตููู ูุญุณู ููููุงุชู ูุงูุฃุฌูุฒุฉ ุงูููุญูุฉ

## ููููุฉ ุงูุงุณุชุฎุฏุงู | How to Use

### 1. ุงููุตูู ููููุฑู | Accessing the Form
```
ุงูุทุฑููุฉ ุงูุฃููู: ูู ุตูุญุฉ KPI ุงูุฑุฆูุณูุฉ
1. ุงุฐูุจ ุฅูู ุตูุญุฉ KPI
2. ุงุถุบุท ุนูู ุฒุฑ "Smart Site KPI Form"

ุงูุทุฑููุฉ ุงูุซุงููุฉ: ุงูุฑุงุจุท ุงููุจุงุดุฑ
/kpi/smart-form
```

### 2. ุฎุทูุงุช ุงูุชุณุฌูู | Recording Steps

#### ุงูุฎุทูุฉ 1: ุงุฎุชูุงุฑ ุงููุดุฑูุน
- ุงุจุญุซ ุนู ุงููุดุฑูุน ุฃู ุงุฎุชุฑู ูู ุงููุงุฆูุฉ
- ุณูุชู ุชุญููู ุฌููุน ุฃูุดุทุฉ ุงููุดุฑูุน ุชููุงุฆูุงู

#### ุงูุฎุทูุฉ 2: ูุฑุงุฌุนุฉ ุงูุฃูุดุทุฉ
- ุณุชุธูุฑ ุฌููุน ุฃูุดุทุฉ ุงููุดุฑูุน ูุน ุญุงูุชูุง
- ุงูุฃูุดุทุฉ ุงูููุชููุฉ ุชุธูุฑ ุจุนูุงูุฉ ุตุญ ุฎุถุฑุงุก
- ุงููุดุงุท ุงูุญุงูู ูุธูุฑ ุจููู ุฃุฒุฑู

#### ุงูุฎุทูุฉ 3: ุชุณุฌูู ูู ูุดุงุท
- ุงุถุบุท ุนูู ุงููุดุงุท ุงููุทููุจ
- ุฃุฌุจ ุนูู ุงูุณุคุงู: "ูู ุชู ุงูุนูู ูู ูุฐุง ุงููุดุงุท ุงููููุ"
- ุฅุฐุง ูุงูุช ุงูุฅุฌุงุจุฉ "ูุนู":
  - ุงููุฃ ุงููููุฉ (ุณูุชู ููุคูุง ุชููุงุฆูุงู)
  - ุฑุงุฌุน ุจุงูู ุงูุจูุงูุงุช
  - ุงุถุบุท "Complete Activity"
- ุฅุฐุง ูุงูุช ุงูุฅุฌุงุจุฉ "ูุง":
  - ุงุถุบุท "Skip Activity" ููุงูุชูุงู ูููุดุงุท ุงูุชุงูู

### 3. ุงูููุฒุงุช ุงูุฐููุฉ | Smart Features

#### ุงูุชุนุจุฆุฉ ุงูุชููุงุฆูุฉ ููุจูุงูุงุช
```typescript
// ูุซุงู ุนูู ุงูุชุนุจุฆุฉ ุงูุชููุงุฆูุฉ
const autoFillData = {
  unit: activity.unit,                    // ุงููุญุฏุฉ ูู ุจูุงูุงุช ุงููุดุงุท
  section: activity.activity_division,    // ุงููุณู ูู ุจูุงูุงุช ุงููุดุงุท  
  quantity: activity.productivity_daily_rate, // ุงููููุฉ ูู ุงููุนุฏู ุงููููู
  date: new Date().toISOString().split('T')[0] // ุชุงุฑูุฎ ุงูููู
}
```

#### ุญุณุงุจ ุงูุชูุฏู
```typescript
// ุญุณุงุจ ูุณุจุฉ ุงูุฅูุฌุงุฒ
const progressPercentage = Math.round(
  (completedActivities.size / projectActivities.length) * 100
)
```

## ุงูููููุงุช ุงูุชูููุฉ | Technical Components

### 1. ุงููููุงุช ุงูุฑุฆูุณูุฉ | Main Files
- `components/kpi/EnhancedSmartActualKPIForm.tsx` - ุงูููุฑู ุงููุญุณู
- `app/(authenticated)/kpi/smart-form/page.tsx` - ุตูุญุฉ ุงูููุฑู ุงููุฎุตุตุฉ
- `components/kpi/KPITracking.tsx` - ุชุญุฏูุซ ุตูุญุฉ KPI ุงูุฑุฆูุณูุฉ

### 2. ุงูุญุงูุงุช (States) | States
```typescript
// ุญุงูุงุช ุชุฏูู ุงูุนูู
const [currentStep, setCurrentStep] = useState<'project' | 'activities' | 'form'>('project')

// ุจูุงูุงุช ุงููุดุฑูุน ูุงูุฃูุดุทุฉ
const [selectedProject, setSelectedProject] = useState<Project | null>(null)
const [projectActivities, setProjectActivities] = useState<ActivityWithStatus[]>([])

// ุชุชุจุน ุงูุชูุฏู
const [completedActivities, setCompletedActivities] = useState<Set<string>>(new Set())
const [currentActivityIndex, setCurrentActivityIndex] = useState(0)
```

### 3. ุงููุงุฌูุงุช (Interfaces) | Interfaces
```typescript
interface ActivityWithStatus extends BOQActivity {
  isCompleted: boolean
  hasWorkToday: boolean
  kpiData?: any
}
```

## ุงูุชุญุณููุงุช ุงููุทุจูุฉ | Applied Improvements

### 1. ุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู | UX Improvements
- โ ูุงุฌูุฉ ุฎุทูุฉ ุจุฎุทูุฉ ูุงุถุญุฉ
- โ ุฑุณุงุฆู ุชุฃููุฏ ุจุตุฑูุฉ
- โ ุฃููุงู ูููุฒุฉ ููู ุญุงูุฉ
- โ ุชุตููู ูุชุฌุงูุจ ููููุงุชู

### 2. ุชุญุณูู ุงูุฃุฏุงุก | Performance Improvements
- โ ุชุญููู ุงูุจูุงูุงุช ุนูุฏ ุงูุญุงุฌุฉ ููุท
- โ ุญูุธ ุงูุญุงูุฉ ุฃุซูุงุก ุงูุชููู
- โ ุชุญุฏูุซ ููุฑู ูููุงุฌูุฉ

### 3. ุชูููู ุงูุฃุฎุทุงุก | Error Reduction
- โ ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช
- โ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ
- โ ููุน ุงูุฅุฑุณุงู ุจุฏูู ุจูุงูุงุช ูุทููุจุฉ

## ุงูุงุณุชุฎุฏุงู ุงููุชูุฏู | Advanced Usage

### 1. ุชุฎุตูุต ุงูููุฑู | Customizing the Form
```typescript
// ุฅุถุงูุฉ ุญููู ูุฎุตุตุฉ
const customFields = {
  weather: 'sunny',      // ุญุงูุฉ ุงูุทูุณ
  team_size: 5,          // ุญุฌู ุงููุฑูู
  equipment: 'crane'      // ุงููุนุฏุงุช ุงููุณุชุฎุฏูุฉ
}
```

### 2. ุชุตุฏูุฑ ุงูุจูุงูุงุช | Data Export
```typescript
// ุชุตุฏูุฑ ุชูุฑูุฑ ุงูุฃูุดุทุฉ ุงูููุชููุฉ
const exportCompletedActivities = () => {
  const completed = projectActivities.filter(a => completedActivities.has(a.id))
  // ุชุตุฏูุฑ ุงูุจูุงูุงุช...
}
```

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก | Troubleshooting

### 1. ูุดุงูู ุดุงุฆุนุฉ | Common Issues

#### ุงููุดููุฉ: ูุง ุชุธูุฑ ุงูุฃูุดุทุฉ
**ุงูุญู**: ุชุฃูุฏ ูู ุฃู ุงููุดุฑูุน ุงููุฎุชุงุฑ ูุญุชูู ุนูู ุฃูุดุทุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

#### ุงููุดููุฉ: ุงูุชุนุจุฆุฉ ุงูุชููุงุฆูุฉ ูุง ุชุนูู
**ุงูุญู**: ุชุฃูุฏ ูู ูุฌูุฏ ุจูุงูุงุช ุงููุนุฏู ุงููููู ูู ุฌุฏูู ุงูุฃูุดุทุฉ

#### ุงููุดููุฉ: ูุง ูุชู ุญูุธ ุงูุจูุงูุงุช
**ุงูุญู**: ุชุฃูุฏ ูู ูุฌูุฏ ุตูุงุญูุงุช ุฅูุดุงุก KPI

### 2. ุฑุณุงุฆู ุงูุฎุทุฃ | Error Messages
- `"Please select a project"` - ุงุฎุชุฑ ูุดุฑูุน ุฃููุงู
- `"Please enter a valid quantity"` - ุฃุฏุฎู ูููุฉ ุตุญูุญุฉ
- `"Activity not found"` - ุงููุดุงุท ุบูุฑ ููุฌูุฏ

## ุงูุชุทููุฑ ุงููุณุชูุจูู | Future Development

### 1. ููุฒุงุช ูุฎุทุทุฉ | Planned Features
- ๐ฑ ุชุทุจูู ุฌูุงู ูุฎุตุต
- ๐ ูุฒุงููุฉ ุฃูููุงูู
- ๐ ุชุญูููุงุช ูุชูุฏูุฉ
- ๐ค ุฐูุงุก ุงุตุทูุงุนู ูููุณุงุนุฏุฉ

### 2. ุชุญุณููุงุช ููุชุฑุญุฉ | Suggested Improvements
- ุฅุถุงูุฉ ุตูุฑ ููุฃูุดุทุฉ
- ุชุณุฌูู ุตูุชู ููููุงุญุธุงุช
- ุฑุจุท ูุน ุฎุฑุงุฆุท ุงููููุน
- ุชูุงุฑูุฑ ุชููุงุฆูุฉ

## ุงูุฏุนู ูุงููุณุงุนุฏุฉ | Support

### 1. ุงูุชูุงุตู | Contact
- ๐ง ุงูุจุฑูุฏ ุงูุฅููุชุฑููู: support@alrabat.com
- ๐ ุงููุงุชู: +966 XX XXX XXXX
- ๐ฌ ุงูุฏุฑุฏุดุฉ ุงููุจุงุดุฑุฉ: ูุชุงุญุฉ ูู ุงูุชุทุจูู

### 2. ุงูุชุฏุฑูุจ | Training
- ๐ ุฏููู ุงููุณุชุฎุฏู: ูุชููุฑ ูู ุงูุชุทุจูู
- ๐ฅ ููุฏูููุงุช ุชุนููููุฉ: ูุฑูุจุงู
- ๐ข ูุฑุด ุนูู: ุญุณุจ ุงูุทูุจ

---

**ุชู ุชุทููุฑ ูุฐุง ุงูููุฑู ุฎุตูุตุงู ูุชุญุณูู ุชุฌุฑุจุฉ ุงููููุฏุณูู ุงููุฏูููู ูู ุชุณุฌูู ุฃูุดุทุฉ ุงููููุน ุจุทุฑููุฉ ุฃูุซุฑ ุฐูุงุกู ูููุงุกุฉ.**

*Smart KPI Form - Developed for Enhanced Civil Engineering Site Activity Recording*
